# Vue3

## 1.前端环境搭建

#### 1.1 安装和配置vscode

- 下载群里vscode.exe 安装包 双击运行
- 设置 --> setting

`修改字体大小`

![修改字体大小](https://s2.loli.net/2024/08/20/5UJv2IlcCQuhmEO.png)

`修改主题`

![修改主题](https://s2.loli.net/2024/08/20/yeOYRqISHh5pisP.png)

`修改终端字体大小`

![修改终端字体大小](https://s2.loli.net/2024/08/20/6ro3VjDku9b2fZQ.png)

- 安装Vue3插件(之前版本volar被弃用) 安装新版本，否则使用vue3的语法会出现错误

![43b0e30bb6154e17803ed8abf9f1153d](https://s2.loli.net/2024/08/20/ZzJ1rjuKNW6Ds5R.png)

#### 1.2 安装和配置node.js

node.js类似于java的jdk 是vue项目的运行环境 而且版本也很重要，如果是vue3 最低支持node14以上版本，具体看`node安装使用笔记.md`

#### 1.3 npm 和 cnpm

npm是node官方提供包管理器 cnpm是中国版的npm，是淘宝定制的命令行 用于替代npm 如果网络原因导致无法使用 推荐使用cnpm

- 安装方式：通过cmd，注意管理员身份运行

```
npm install -g cnpm --registry=https://registry.npmmirror.com/

安装成功：cnpm -v
```

#### 1.4 安装vue脚手架

vue脚手架 是用于快速构建vue项目的 类似于之前使用的maven，安装过程比较繁琐，可能会失败很多次，多装几次就好了

- 安装命令，注意管理员身份运行

```
cnpm install -g @vue/cli
测试：vue -V
```

#### 1.5 设置镜像地址

设置npm和cnpm地址都设置成淘宝镜像地址

```
npm config set registry https://registry.npmmirror.com/
cnpm config set registry https://registry.npmmirror.com/
```

## 2. Vue如何创建项目

- crtl+` 打开终端
- 输入命令创建项目：`vue create 项目名(必须小写)`
- 选择vue项目模版格式

```
  Default ([Vue 3] babel, eslint)		->vue3模版只带两个插件
  Default ([Vue 2] babel, eslint)       ->vue2模版只带了两个插件                   > Manually select features 			  -> 推荐手动选择插件
```

- 选择项目需要支持的插件，可以根据用户需要自由组合，使用上下箭头可以切换，`空格选中`，`回车确认`

```
>(*) Babel
 ( ) TypeScript
 ( ) Progressive Web App (PWA) Support
 ( ) Router
 ( ) Vuex
 ( ) CSS Pre-processors
 (*) Linter / Formatter
 ( ) Unit Testing
 ( ) E2E Testing
```

```
Babel：一个js编译器转码器 可以将ES6转换成ES5代码，主要用于向下兼容，必加项
TypeScript：底层就是对于js做了一个封装，相当于一种面向对象的js，简称ts，运行时也会转换成js		后期必导，如果选择了会有两个子菜单...
web App：属于web应用程序，必加项
Router：vue路由，通过请求链接到具体哪个vue组件的(跳转)，后期必导
Vuex：vue的状态管理模式，可以保存一些vue中的对象
CSS：css预处理器，一般不导
Linter / Formatter：代码风格检查和格式化，用于检查代码是否符合规范的，不导慎用
Unit Testing：单元测试插件，类似于Java的junit
E2E Testing：(end to end) 端到端的测试
```

- 配置 配置文件放在哪里 是默认位置还是放在package.json中，推荐使用默认

```
> In dedicated config files		-> 使用默认位置
  In package.json				-> 放入package.json
```

- 是否保存历史配置，可以保存上一次创建vue插件配置，可以让我们更加快捷创建项目，后期可以使用，当前选N

```
Save this as a preset for future projects? (y/N)
```

- 项目创建成功后

```
cd 项目名   		-> 进入项目
npm run serve	  ->启动项目
```

你也可以使用`vue ui`命令打开图形化界面管理vue项目

## 3. 什么是Vue

vue是一个前端框架，免除一些原生的javascript中的繁琐的dom操作，是基于MVVM(Model-View-ViewMode)思想，用于实现数据双向绑定，使开发者只关注于数据即可

- MVVM思想：可以用于实现数据双向绑定，就是模型的数据(Mode) 发生了改变 页面展示的数据(View)也会改变，反之如果展示的数据发生修改了 模型的数据也会发生改变。VM(ViewModel)就是用于实现Model和View之间数据双向绑定 通常ViewModel是通过js实现的(Vue对象)

#### 3.1 项目目录结构

![image-20240821144554938](https://s2.loli.net/2024/08/21/tSJVgm7LTiqhaAC.png)

- node_modules：运行vue项目需要第三方组件或者插件 类似于maven导入的依赖(jar) 如果删掉了 只需要`vue install`重新安装回来
- public：vue项目提供默认图标首页 一般vue项目写完后进行打包时 会默认存储在这个位置 会把vue项目的组件转换成css/html，输入命令`vue build`打包，/public访问资源
- src：重点目录
  - asses：存储静态资源的位置 css img...，../assess访问资源
  - components：存放vue组件的目录，创建所有的vue页面都放在该目录下，但是以后添加了路由router 就放在router包
  - App.vue：Vue核心组件 所有组件都必须经过App组件 否则失效，因为它是Vue项目的默认首页
  - 类似于java的main方法 程序的入口
  - registerServiceWorker.js：存储一些监听的 不重要
- package.json：等价于之前maven项目中的pom.xml，vue项目安装所有插件和第三方组件都可以在这里查看
- vue.config.js：等价于springboot中的application.properties vue项目的唯一配置文件   ==注：配置文件只要修改 必须重启Vue项目==

## 4. Vue基础语法

```vue
<!--表示编写html内容-->
<template></template>

<!--表示编写vue业务逻辑的，通过js基础编写的 vue2语法-->
<script>
    //导出当前默认组件
	export default{}
</script>

<!--属于vue3语法 可以不用写export data() return...-->
<script setup></script>

<!--编写css-->
<style></style>
```

#### 4.1 vue声明变量的方式有哪些 ---面试题

- var：通常用于定义全局变量，允许重复声明
- let：ES6新增的，用来替代var的，只能作用于局部区域，不能重复声明
- const：ES6新增的 用来声明常量的(最常用的) 只能作用于局部区域 不能重复声明

```vue
<script setup>
    import {ref} from 'vue'
    const user=ref();
    //这样user对象地址不能改 但是对象里面的属性是可以修改的
</script>
```

#### 4.2 vue基本指令

指定：就是html标签里面添加带有v-前缀的特殊属性，不同指令具有不同的函数，而vue是通过这些指令来实现页面动态的效果 

| 指令                    | 作用                                                |
| ----------------------- | --------------------------------------------------- |
| v-bind（:）             | 为html标签绑定属性值 比如设置href css样式，单项绑定 |
| v-model                 | 为表单元素创建双向数据绑定的，双向绑定              |
| v-if  v-else=if  v-else | 条件性渲染元素                                      |
| v-show                  | 条件性渲染元素                                      |
| v-for                   | 列表渲染 遍历下面定义集合和数组变量的               |
| v-on（@）               | 为html标签绑定事件                                  |

- v-binf指令和v-model指令

`v-model.lazy`：懒加载，输入结束后才会同步
`v-model.trim`：去除前后空格

```vue
<template>
    <!-- v-bind 用于绑定属性值
        将下面vue创建的变量 给标签属性值使用 -->
     <a v-bind:href="url">链接1</a>
     <!-- v-bind可以省略 -->
     <a :href="url">链接2</a>
     <!-- 借助于双向绑定修改url的值 -->
      地址：<input v-model="url">
</template>

<script setup>
import {ref} from 'vue'
const url = ref('http://www.baidu.com')
</script>
```

- v-if指令和v-show指令

区别：---面试题

​				if底层不满足就不会去渲染标签 所以标签是不存在的
​        	  show底层通过display是否切换none来显示隐藏的  标签都是存在的 但是有的隐藏了看不到

```vue
<template>
    <div v-show="status==1">show启用</div>
    <div v-show="status==0">show禁用</div>
    <div v-show="status==2">show未验证</div>

    <div v-if="status==1">启用</div>
    <div v-else-if="status==0">禁用</div>
    <div v-else-if="status==2">未验证</div>
    <div v-else>冻结</div>
    <input v-model="status">
</template>

<script setup>
import {ref} from 'vue'
const status = ref(1)
</script>
```

- v-for指令

```vue
<!--语法规则，集合和数组需要在js中定义好变量-->
<标签 v-for="临时变量 in 集合或数组">
	{{临时变量}}    
</标签>
<!--语法规则2：如果页面需要变量的数据的索引-->
<标签 v-for="(临时变量,索引变量) in 集合或数组">
	{{索引变量+1}}    {{临时变量}}
</标签>
```

```vue
<template>
    <table>
        <tr>
            <th>序号</th>
            <th>编号</th>
            <th>地址</th>
        </tr>
        <tr v-for="va in address">
            <td></td>
            <td>{{ va.id }}</td>
            <td>{{ va.addrname }}</td>
        </tr>
        <hr>
        <tr v-for="(va,i) in address">
            <td>{{ i }}</td>
            <td>{{ va.id }}</td>
            <td>{{ va.addrname }}</td>
        </tr>
    </table>
</template>

<script setup>
import {ref} from 'vue'
const address = ref([
    {id:8,addrname:'南昌'},
    {id:7,addrname:'北京'},
    {id:10,addrname:'上海'},
    {id:12,addrname:'济南'}
])
</script>
```

- v-on指令

```vue
<template>
    <div>
        <input type="button" value="确认" v-on:click="show()"/>
        <!-- 但是以后编写 v-on: -> @ -->
        <input type="button" value="确认@" @click="show()"/>
    </div>
</template>

<script setup>
import {ref} from 'vue'
const show = ()=>{
    console.log("hello");
}
</script>
```

